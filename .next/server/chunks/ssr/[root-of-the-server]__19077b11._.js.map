{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Documents/GitHub/home_customization/lib/pdf-generator.ts"],"sourcesContent":["import jsPDF from 'jspdf'\n\nexport interface PDFGeneratorConfig {\n    productData: any\n    selectedFeatures: any\n    filteredInteriorData: any\n    filteredExteriorEnergyData: any\n    totalPrice: number\n}\n\nexport interface PDFGeneratorOptions {\n    shouldCompress?: boolean\n    shouldDownload?: boolean\n    fileName?: string\n}\n\n// Get first image from exterior and interior\nconst getFirstExteriorImage = (config: PDFGeneratorConfig) => {\n    const { selectedFeatures, filteredExteriorEnergyData, filteredInteriorData } = config as any\n\n    // Mirror MiddleSection: if energy/exterior features selected\n    if (\n        filteredExteriorEnergyData && (\n            selectedFeatures.stairs !== undefined ||\n            selectedFeatures.railing !== undefined ||\n            selectedFeatures.airConditioner !== undefined ||\n            selectedFeatures.solarPanel !== undefined\n        )\n    ) {\n        if (selectedFeatures.kitchen === 'no') {\n            if (filteredExteriorEnergyData.sections?.exterior_NoKitchen?.gallery?.length ?? 0) {\n                return filteredExteriorEnergyData.sections.exterior_NoKitchen.gallery[0];\n            }\n        } else {\n            if (filteredExteriorEnergyData.sections?.exterior?.gallery?.length ?? 0) {\n                return filteredExteriorEnergyData.sections.exterior.gallery[0];\n            }\n        }\n        if (filteredExteriorEnergyData.sections?.exteriorGallery?.images?.length ?? 0) {\n            return filteredExteriorEnergyData.sections.exteriorGallery.images[0];\n        }\n    }\n\n    // Otherwise, if interior features are selected, use interior data's exterior gallery\n    const hasInteriorFeatures = selectedFeatures.kitchen === 'yes' ||\n        selectedFeatures.bathroom === 'yes' ||\n        selectedFeatures.shower === 'yes' ||\n        selectedFeatures.sink === 'yes' ||\n        selectedFeatures.toilet === 'yes' ||\n        selectedFeatures.kitchen_wall === 'yes' ||\n        (selectedFeatures.kitchen_position && selectedFeatures.kitchen_position !== '');\n\n    if (hasInteriorFeatures && (filteredInteriorData?.sections?.exterior?.gallery?.length ?? 0)) {\n        return filteredInteriorData.sections.exterior.gallery[0];\n    }\n\n    return null;\n}\n\nconst getFirstInteriorImage = (config: PDFGeneratorConfig) => {\n    const { selectedFeatures, filteredInteriorData } = config as any\n\n    // Mirror MiddleSection: only when interior features selected; no defaults\n    const hasInteriorFeatures = selectedFeatures.kitchen === 'yes' ||\n        selectedFeatures.bathroom === 'yes' ||\n        selectedFeatures.shower === 'yes' ||\n        selectedFeatures.sink === 'yes' ||\n        selectedFeatures.toilet === 'yes' ||\n        selectedFeatures.kitchen_wall === 'yes' ||\n        (selectedFeatures.kitchen_position && selectedFeatures.kitchen_position !== '');\n\n    if (hasInteriorFeatures && (filteredInteriorData?.sections?.interior?.gallery?.length ?? 0)) {\n        return filteredInteriorData.sections.interior.gallery[0];\n    }\n\n    return null;\n}\n\n// Generate configuration items\nconst getConfigurationItems = (config: PDFGeneratorConfig) => {\n    const { productData, selectedFeatures, filteredExteriorEnergyData, filteredInteriorData  } = config\n    if (!productData) return []\n\n    const items: Array<{ name: string; price: number }> = []\n\n    // Add kitchen if selected\n    if (selectedFeatures.kitchen === 'yes') {\n        const kitchenOption = productData.features.kitchen?.options.find((opt: any) => opt.value === 'yes')\n        if (kitchenOption) {\n            items.push({ name: 'Kitchen', price: kitchenOption.price })\n        }\n    }\n\n    // Add kitchen position if selected\n    if (selectedFeatures.kitchen_position) {\n        const positionOption = productData.features.kitchen_position?.options.find((opt: any) => opt.value === selectedFeatures.kitchen_position)\n        if (positionOption) {\n            let positionName = ''\n            if (selectedFeatures.kitchen_position === 'wall3') {\n                positionName = 'Kitchen Position 1 (Wall 3)'\n            } else if (selectedFeatures.kitchen_position === 'wall4') {\n                positionName = 'Kitchen Position 2 (Wall 4)'\n            }\n            items.push({ name: positionName, price: positionOption.price })\n        }\n    }\n\n    // Add bathroom if selected\n    if (selectedFeatures.bathroom === 'yes') {\n        const bathroomOption = productData.features.bathroom?.options.find((opt: any) => opt.value === 'yes')\n        if (bathroomOption) {\n            items.push({ name: 'Full Bathroom', price: bathroomOption.price })\n        }\n    }\n\n    // Add shower if selected\n    if (selectedFeatures.shower === 'yes') {\n        const showerOption = productData.features.shower?.options.find((opt: any) => opt.value === 'yes')\n        if (showerOption) {\n            items.push({ name: 'Shower', price: showerOption.price })\n        }\n    }\n\n    // Add sink if selected\n    if (selectedFeatures.sink === 'yes') {\n        const sinkOption = productData.features.sink?.options.find((opt: any) => opt.value === 'yes')\n        if (sinkOption) {\n            items.push({ name: 'Sink', price: sinkOption.price })\n        }\n    }\n\n    // Add toilet if selected\n    if (selectedFeatures.toilet === 'yes') {\n        const toiletOption = productData.features.toilet?.options.find((opt: any) => opt.value === 'yes')\n        if (toiletOption) {\n            items.push({ name: 'Toilet', price: toiletOption.price })\n        }\n    }\n\n    // Add kitchen wall if selected\n    if (selectedFeatures.kitchen_wall === 'yes') {\n        const wallOption = productData.features.kitchen_wall?.options.find((opt: any) => opt.value === 'yes')\n        if (wallOption) {\n            items.push({ name: 'Kitchen Wall', price: wallOption.price })\n        }\n    }\n\n    // Add slider door if selected\n    if (selectedFeatures.slider_door === 'yes') {\n        const sliderOption = productData.features.slider_door?.options.find((opt: any) => opt.value === 'yes')\n        if (sliderOption) {\n            items.push({ name: 'Slider Door', price: sliderOption.price })\n        }\n    }\n\n    // Add french door if selected\n    if (selectedFeatures.french_door === 'yes') {\n        const frenchOption = productData.features.french_door?.options.find((opt: any) => opt.value === 'yes')\n        if (frenchOption) {\n            items.push({ name: 'French Door', price: frenchOption.price })\n        }\n    }\n\n    // Add stairs if selected\n    if (selectedFeatures.stairs === 'yes') {\n        const stairsOption = productData.features.stairs?.options.find((opt: any) => opt.value === 'yes')\n        if (stairsOption) {\n            items.push({ name: 'Stairs', price: stairsOption.price })\n        }\n    }\n\n    // Add roof top if selected\n    if (selectedFeatures.roofTop === 'yes') {\n        const roofOption = productData.features.roofTop?.options.find((opt: any) => opt.value === 'yes')\n        if (roofOption) {\n            items.push({ name: 'Roof Top', price: roofOption.price })\n        }\n    }\n\n    // Add air conditioner if selected\n    if (selectedFeatures.airConditioner === 'yes') {\n        const acOption = productData.features.airConditioner?.options.find((opt: any) => opt.value === 'yes')\n        if (acOption) {\n            items.push({ name: 'Air Conditioner', price: acOption.price })\n        }\n    }\n\n    // Add natural gas if selected\n    if (selectedFeatures.naturalGas === 'yes') {\n        const gasOption = productData.features.naturalGas?.options.find((opt: any) => opt.value === 'yes')\n        if (gasOption) {\n            items.push({ name: 'Natural Gas', price: gasOption.price })\n        }\n    }\n\n    // Add solar panel if selected\n    if (selectedFeatures.solarPanel === 'yes') {\n        const solarOption = productData.features.solarPanel?.options.find((opt: any) => opt.value === 'yes')\n        if (solarOption) {\n            items.push({ name: 'Solar Panel', price: solarOption.price })\n        }\n    }\n\n    return items\n}\n\n// Main PDF generator function\nexport const generateCustomizedHomePDF = async (\n    config: PDFGeneratorConfig,\n    options: PDFGeneratorOptions = {}\n): Promise<Blob> => {\n    const { shouldCompress = false, shouldDownload = false, fileName = 'customized-home-configuration.pdf' } = options\n    const { totalPrice, productData } = config\n\n    try {\n        // Create PDF with better layout\n        const pdf = new jsPDF('p', 'mm', 'a4')\n        \n        // Set compression for smaller file size\n        pdf.setProperties({\n            title: 'Customized Home Configuration',\n            subject: 'Freepoint Homes Configuration',\n            author: 'Freepoint Homes',\n            creator: 'Freepoint Homes'\n        })\n\n        // Page dimensions\n        const pageWidth = 210\n        const pageHeight = 297\n        const margin = 20\n        const contentWidth = pageWidth - (2 * margin)\n\n        // Colors\n        const primaryColor = [194, 164, 92] // #C2A45C\n        const darkColor = [51, 51, 51] // #333\n        const lightGray = [248, 248, 248] // #F8F8F8\n        const mediumGray = [102, 102, 102] // #666\n\n        let yPosition = margin\n\n        // Header with logo area - very small height\n        pdf.setFillColor(primaryColor[0], primaryColor[1], primaryColor[2])\n        pdf.rect(0, 0, pageWidth, 25, 'F')\n\n        // Company name in header - better positioning\n        pdf.setFont('helvetica', 'bold')\n        pdf.setFontSize(20)\n        pdf.setTextColor(255, 255, 255)\n        pdf.text('Freepoint Homes', pageWidth / 2, 16, { align: 'center' })\n\n        yPosition = 35\n\n        // Title\n        pdf.setFontSize(20)\n        pdf.setTextColor(darkColor[0], darkColor[1], darkColor[2])\n        pdf.text('Customized Home Configuration', pageWidth / 2, yPosition, { align: 'center' })\n        yPosition += 12\n\n        // Date and reference\n        pdf.setFontSize(10)\n        pdf.setTextColor(mediumGray[0], mediumGray[1], mediumGray[2])\n        pdf.text(`Generated: ${new Date().toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n        })}`, pageWidth / 2, yPosition, { align: 'center' })\n        yPosition += 15\n\n        // Images Section with better layout\n        const exteriorImage = getFirstExteriorImage(config)\n        const interiorImage = getFirstInteriorImage(config)\n        \n        if (exteriorImage || interiorImage) {\n            // Section title\n            pdf.setFontSize(16)\n            pdf.setFont('helvetica', 'bold')\n            pdf.setTextColor(darkColor[0], darkColor[1], darkColor[2])\n            pdf.text('Design Preview', margin, yPosition)\n            yPosition += 8\n\n            // Draw section line\n            pdf.setDrawColor(primaryColor[0], primaryColor[1], primaryColor[2])\n            pdf.setLineWidth(0.5)\n            pdf.line(margin, yPosition, pageWidth - margin, yPosition)\n            yPosition += 12\n\n            const imageWidth = shouldCompress ? 60 : 70\n            const imageHeight = shouldCompress ? 40 : 50\n            const imageSpacing = 20\n\n            // Calculate positions for centered images\n            const totalImagesWidth = (exteriorImage && interiorImage) ? (imageWidth * 2 + imageSpacing) : imageWidth\n            const startX = (pageWidth - totalImagesWidth) / 2\n\n            // Exterior Image\n            if (exteriorImage) {\n                try {\n                    const exteriorImg = new Image()\n                    exteriorImg.crossOrigin = 'anonymous'\n                    exteriorImg.src = exteriorImage\n\n                    await new Promise((resolve, reject) => {\n                        exteriorImg.onload = resolve\n                        exteriorImg.onerror = reject\n                        setTimeout(reject, 5000)\n                    })\n\n                    pdf.addImage(exteriorImg, 'JPEG', startX, yPosition, imageWidth, imageHeight, undefined, 'FAST')\n\n                    // Image label\n                    pdf.setFontSize(10)\n                    pdf.setTextColor(darkColor[0], darkColor[1], darkColor[2])\n                    pdf.text('Exterior Design', startX + (imageWidth / 2), yPosition + imageHeight + 8, { align: 'center' })\n                } catch (error) {\n                    // Fallback rectangle\n                    pdf.setFillColor(lightGray[0], lightGray[1], lightGray[2])\n                    pdf.rect(startX, yPosition, imageWidth, imageHeight, 'F')\n                    pdf.setTextColor(mediumGray[0], mediumGray[1], mediumGray[2])\n                    pdf.setFontSize(8)\n                    pdf.text('Exterior Image', startX + (imageWidth / 2), yPosition + (imageHeight / 2), { align: 'center' })\n                    pdf.text('Not Available', startX + (imageWidth / 2), yPosition + (imageHeight / 2) + 5, { align: 'center' })\n                }\n            }\n\n            // Interior Image\n            if (interiorImage) {\n                const interiorX = exteriorImage ? startX + imageWidth + imageSpacing : startX\n\n                try {\n                    const interiorImg = new Image()\n                    interiorImg.crossOrigin = 'anonymous'\n                    interiorImg.src = interiorImage\n\n                    await new Promise((resolve, reject) => {\n                        interiorImg.onload = resolve\n                        interiorImg.onerror = reject\n                        setTimeout(reject, 5000)\n                    })\n\n                    pdf.addImage(interiorImg, 'JPEG', interiorX, yPosition, imageWidth, imageHeight, undefined, 'FAST')\n\n                    // Image label\n                    pdf.setFontSize(10)\n                    pdf.setTextColor(darkColor[0], darkColor[1], darkColor[2])\n                    pdf.text('Interior Design', interiorX + (imageWidth / 2), yPosition + imageHeight + 8, { align: 'center' })\n                } catch (error) {\n                    // Fallback rectangle\n                    pdf.setFillColor(lightGray[0], lightGray[1], lightGray[2])\n                    pdf.rect(interiorX, yPosition, imageWidth, imageHeight, 'F')\n                    pdf.setTextColor(mediumGray[0], mediumGray[1], mediumGray[2])\n                    pdf.setFontSize(8)\n                    pdf.text('Interior Image', interiorX + (imageWidth / 2), yPosition + (imageHeight / 2), { align: 'center' })\n                    pdf.text('Not Available', interiorX + (imageWidth / 2), yPosition + (imageHeight / 2) + 5, { align: 'center' })\n                }\n            }\n\n            yPosition += imageHeight + 18\n        }\n\n        // Configuration Section\n        pdf.setFontSize(16)\n        pdf.setFont('helvetica', 'bold')\n        pdf.setTextColor(darkColor[0], darkColor[1], darkColor[2])\n        pdf.text('Your Configuration', margin, yPosition)\n        yPosition += 8\n\n        // Draw section line\n        pdf.setDrawColor(primaryColor[0], primaryColor[1], primaryColor[2])\n        pdf.setLineWidth(0.5)\n        pdf.line(margin, yPosition, pageWidth - margin, yPosition)\n        yPosition += 12\n\n        const configurationItems = getConfigurationItems(config)\n        const basePrice = productData?.basePrice || 120000\n\n        const summaryStartY = yPosition\n        const summaryHeight = 25 + (configurationItems.length * 6) + 12\n\n        // Summary background\n        pdf.setFillColor(lightGray[0], lightGray[1], lightGray[2])\n        pdf.rect(margin, summaryStartY, contentWidth, summaryHeight, 'F')\n\n        // Base price\n        pdf.setFontSize(12)\n        pdf.setFont('helvetica', 'bold')\n        pdf.setTextColor(darkColor[0], darkColor[1], darkColor[2])\n        pdf.text('Base Home:', margin + 10, summaryStartY + 12)\n        pdf.text(`$${basePrice.toLocaleString()}`, pageWidth - margin - 10, summaryStartY + 12, { align: 'right' })\n\n        // Selected features in summary\n        configurationItems.forEach((item, index) => {\n            pdf.setFontSize(10)\n            pdf.setFont('helvetica', 'normal')\n            pdf.setTextColor(mediumGray[0], mediumGray[1], mediumGray[2])\n            pdf.text(`${item.name}:`, margin + 10, summaryStartY + 20 + (index * 6))\n            pdf.setTextColor(darkColor[0], darkColor[1], darkColor[2])\n            pdf.text(`+$${item.price.toLocaleString()}`, pageWidth - margin - 10, summaryStartY + 20 + (index * 6), { align: 'right' })\n        })\n\n        const totalY = summaryStartY + summaryHeight - 12\n\n        pdf.setFillColor(primaryColor[0], primaryColor[1], primaryColor[2])\n        pdf.rect(margin, totalY, contentWidth, 12, 'F')\n\n        pdf.setFontSize(12)\n        pdf.setFont('helvetica', 'bold')\n        pdf.setTextColor(255, 255, 255)\n        pdf.text('Total Estimate:', margin + 10, totalY + 8)\n        pdf.text(`$${totalPrice.toLocaleString()}`, pageWidth - margin - 10, totalY + 8, { align: 'right' })\n\n        yPosition = totalY + 18\n\n        // Footer - ensure it's always at the bottom\n        const footerY = pageHeight - 20\n        pdf.setFillColor(primaryColor[0], primaryColor[1], primaryColor[2])\n        pdf.rect(0, footerY, pageWidth, 20, 'F')\n\n        pdf.setFontSize(9)\n        pdf.setTextColor(255, 255, 255)\n        pdf.text('Thank you for choosing Freepoint Homes', pageWidth / 2, footerY + 8, { align: 'center' })\n        pdf.text('contact@freepointhomes.com | www.freepointhomes.com', pageWidth / 2, footerY + 15, { align: 'center' })\n\n        // Convert PDF to blob\n        const pdfBlob = pdf.output('blob')\n        \n        // If compression is needed and PDF is still too large, create minimal version\n        if (shouldCompress && pdfBlob.size > 50000) {\n\n            \n            // Create a new PDF with minimal content\n            const compressedPdf = new jsPDF('p', 'mm', 'a4')\n            \n            // Add only essential information\n            compressedPdf.setFont('helvetica', 'bold')\n            compressedPdf.setFontSize(16)\n            compressedPdf.text('Customized Home Configuration', 20, 30)\n            \n            compressedPdf.setFontSize(12)\n            compressedPdf.text(`Total Price: $${totalPrice.toLocaleString()}`, 20, 50)\n            \n            // Add selected features as text only\n            let yPos = 70\n            configurationItems.forEach((item, index) => {\n                if (yPos < 250) { // Prevent overflow\n                    compressedPdf.text(`${item.name}: +$${item.price.toLocaleString()}`, 20, yPos)\n                    yPos += 10\n                }\n            })\n            \n            const compressedBlob = compressedPdf.output('blob')\n    \n            \n            if (shouldDownload) {\n                compressedPdf.save(fileName)\n            }\n            \n            return compressedBlob\n        }\n        \n        if (shouldDownload) {\n            pdf.save(fileName)\n        }\n        \n        return pdfBlob\n\n    } catch (error) {\n        console.error('Error generating PDF:', error)\n        throw error\n    }\n} "],"names":[],"mappings":";;;AAAA;;AAgBA,6CAA6C;AAC7C,MAAM,wBAAwB,CAAC;IAC3B,MAAM,EAAE,gBAAgB,EAAE,0BAA0B,EAAE,oBAAoB,EAAE,GAAG;IAE/E,6DAA6D;IAC7D,IACI,8BAA8B,CAC1B,iBAAiB,MAAM,KAAK,aAC5B,iBAAiB,OAAO,KAAK,aAC7B,iBAAiB,cAAc,KAAK,aACpC,iBAAiB,UAAU,KAAK,SACpC,GACF;QACE,IAAI,iBAAiB,OAAO,KAAK,MAAM;YACnC,IAAI,2BAA2B,QAAQ,EAAE,oBAAoB,SAAS,UAAU,GAAG;gBAC/E,OAAO,2BAA2B,QAAQ,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE;YAC5E;QACJ,OAAO;YACH,IAAI,2BAA2B,QAAQ,EAAE,UAAU,SAAS,UAAU,GAAG;gBACrE,OAAO,2BAA2B,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YAClE;QACJ;QACA,IAAI,2BAA2B,QAAQ,EAAE,iBAAiB,QAAQ,UAAU,GAAG;YAC3E,OAAO,2BAA2B,QAAQ,CAAC,eAAe,CAAC,MAAM,CAAC,EAAE;QACxE;IACJ;IAEA,qFAAqF;IACrF,MAAM,sBAAsB,iBAAiB,OAAO,KAAK,SACrD,iBAAiB,QAAQ,KAAK,SAC9B,iBAAiB,MAAM,KAAK,SAC5B,iBAAiB,IAAI,KAAK,SAC1B,iBAAiB,MAAM,KAAK,SAC5B,iBAAiB,YAAY,KAAK,SACjC,iBAAiB,gBAAgB,IAAI,iBAAiB,gBAAgB,KAAK;IAEhF,IAAI,uBAAuB,CAAC,sBAAsB,UAAU,UAAU,SAAS,UAAU,CAAC,GAAG;QACzF,OAAO,qBAAqB,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;IAC5D;IAEA,OAAO;AACX;AAEA,MAAM,wBAAwB,CAAC;IAC3B,MAAM,EAAE,gBAAgB,EAAE,oBAAoB,EAAE,GAAG;IAEnD,0EAA0E;IAC1E,MAAM,sBAAsB,iBAAiB,OAAO,KAAK,SACrD,iBAAiB,QAAQ,KAAK,SAC9B,iBAAiB,MAAM,KAAK,SAC5B,iBAAiB,IAAI,KAAK,SAC1B,iBAAiB,MAAM,KAAK,SAC5B,iBAAiB,YAAY,KAAK,SACjC,iBAAiB,gBAAgB,IAAI,iBAAiB,gBAAgB,KAAK;IAEhF,IAAI,uBAAuB,CAAC,sBAAsB,UAAU,UAAU,SAAS,UAAU,CAAC,GAAG;QACzF,OAAO,qBAAqB,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;IAC5D;IAEA,OAAO;AACX;AAEA,+BAA+B;AAC/B,MAAM,wBAAwB,CAAC;IAC3B,MAAM,EAAE,WAAW,EAAE,gBAAgB,EAAE,0BAA0B,EAAE,oBAAoB,EAAG,GAAG;IAC7F,IAAI,CAAC,aAAa,OAAO,EAAE;IAE3B,MAAM,QAAgD,EAAE;IAExD,0BAA0B;IAC1B,IAAI,iBAAiB,OAAO,KAAK,OAAO;QACpC,MAAM,gBAAgB,YAAY,QAAQ,CAAC,OAAO,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC7F,IAAI,eAAe;YACf,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAW,OAAO,cAAc,KAAK;YAAC;QAC7D;IACJ;IAEA,mCAAmC;IACnC,IAAI,iBAAiB,gBAAgB,EAAE;QACnC,MAAM,iBAAiB,YAAY,QAAQ,CAAC,gBAAgB,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK,iBAAiB,gBAAgB;QACxI,IAAI,gBAAgB;YAChB,IAAI,eAAe;YACnB,IAAI,iBAAiB,gBAAgB,KAAK,SAAS;gBAC/C,eAAe;YACnB,OAAO,IAAI,iBAAiB,gBAAgB,KAAK,SAAS;gBACtD,eAAe;YACnB;YACA,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAc,OAAO,eAAe,KAAK;YAAC;QACjE;IACJ;IAEA,2BAA2B;IAC3B,IAAI,iBAAiB,QAAQ,KAAK,OAAO;QACrC,MAAM,iBAAiB,YAAY,QAAQ,CAAC,QAAQ,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC/F,IAAI,gBAAgB;YAChB,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAiB,OAAO,eAAe,KAAK;YAAC;QACpE;IACJ;IAEA,yBAAyB;IACzB,IAAI,iBAAiB,MAAM,KAAK,OAAO;QACnC,MAAM,eAAe,YAAY,QAAQ,CAAC,MAAM,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC3F,IAAI,cAAc;YACd,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAU,OAAO,aAAa,KAAK;YAAC;QAC3D;IACJ;IAEA,uBAAuB;IACvB,IAAI,iBAAiB,IAAI,KAAK,OAAO;QACjC,MAAM,aAAa,YAAY,QAAQ,CAAC,IAAI,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QACvF,IAAI,YAAY;YACZ,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAQ,OAAO,WAAW,KAAK;YAAC;QACvD;IACJ;IAEA,yBAAyB;IACzB,IAAI,iBAAiB,MAAM,KAAK,OAAO;QACnC,MAAM,eAAe,YAAY,QAAQ,CAAC,MAAM,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC3F,IAAI,cAAc;YACd,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAU,OAAO,aAAa,KAAK;YAAC;QAC3D;IACJ;IAEA,+BAA+B;IAC/B,IAAI,iBAAiB,YAAY,KAAK,OAAO;QACzC,MAAM,aAAa,YAAY,QAAQ,CAAC,YAAY,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC/F,IAAI,YAAY;YACZ,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAgB,OAAO,WAAW,KAAK;YAAC;QAC/D;IACJ;IAEA,8BAA8B;IAC9B,IAAI,iBAAiB,WAAW,KAAK,OAAO;QACxC,MAAM,eAAe,YAAY,QAAQ,CAAC,WAAW,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAChG,IAAI,cAAc;YACd,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAe,OAAO,aAAa,KAAK;YAAC;QAChE;IACJ;IAEA,8BAA8B;IAC9B,IAAI,iBAAiB,WAAW,KAAK,OAAO;QACxC,MAAM,eAAe,YAAY,QAAQ,CAAC,WAAW,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAChG,IAAI,cAAc;YACd,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAe,OAAO,aAAa,KAAK;YAAC;QAChE;IACJ;IAEA,yBAAyB;IACzB,IAAI,iBAAiB,MAAM,KAAK,OAAO;QACnC,MAAM,eAAe,YAAY,QAAQ,CAAC,MAAM,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC3F,IAAI,cAAc;YACd,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAU,OAAO,aAAa,KAAK;YAAC;QAC3D;IACJ;IAEA,2BAA2B;IAC3B,IAAI,iBAAiB,OAAO,KAAK,OAAO;QACpC,MAAM,aAAa,YAAY,QAAQ,CAAC,OAAO,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC1F,IAAI,YAAY;YACZ,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAY,OAAO,WAAW,KAAK;YAAC;QAC3D;IACJ;IAEA,kCAAkC;IAClC,IAAI,iBAAiB,cAAc,KAAK,OAAO;QAC3C,MAAM,WAAW,YAAY,QAAQ,CAAC,cAAc,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC/F,IAAI,UAAU;YACV,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAmB,OAAO,SAAS,KAAK;YAAC;QAChE;IACJ;IAEA,8BAA8B;IAC9B,IAAI,iBAAiB,UAAU,KAAK,OAAO;QACvC,MAAM,YAAY,YAAY,QAAQ,CAAC,UAAU,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC5F,IAAI,WAAW;YACX,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAe,OAAO,UAAU,KAAK;YAAC;QAC7D;IACJ;IAEA,8BAA8B;IAC9B,IAAI,iBAAiB,UAAU,KAAK,OAAO;QACvC,MAAM,cAAc,YAAY,QAAQ,CAAC,UAAU,EAAE,QAAQ,KAAK,CAAC,MAAa,IAAI,KAAK,KAAK;QAC9F,IAAI,aAAa;YACb,MAAM,IAAI,CAAC;gBAAE,MAAM;gBAAe,OAAO,YAAY,KAAK;YAAC;QAC/D;IACJ;IAEA,OAAO;AACX;AAGO,MAAM,4BAA4B,OACrC,QACA,UAA+B,CAAC,CAAC;IAEjC,MAAM,EAAE,iBAAiB,KAAK,EAAE,iBAAiB,KAAK,EAAE,WAAW,mCAAmC,EAAE,GAAG;IAC3G,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG;IAEpC,IAAI;QACA,gCAAgC;QAChC,MAAM,MAAM,IAAI,mJAAA,CAAA,UAAK,CAAC,KAAK,MAAM;QAEjC,wCAAwC;QACxC,IAAI,aAAa,CAAC;YACd,OAAO;YACP,SAAS;YACT,QAAQ;YACR,SAAS;QACb;QAEA,kBAAkB;QAClB,MAAM,YAAY;QAClB,MAAM,aAAa;QACnB,MAAM,SAAS;QACf,MAAM,eAAe,YAAa,IAAI;QAEtC,SAAS;QACT,MAAM,eAAe;YAAC;YAAK;YAAK;SAAG,CAAC,UAAU;;QAC9C,MAAM,YAAY;YAAC;YAAI;YAAI;SAAG,CAAC,OAAO;;QACtC,MAAM,YAAY;YAAC;YAAK;YAAK;SAAI,CAAC,UAAU;;QAC5C,MAAM,aAAa;YAAC;YAAK;YAAK;SAAI,CAAC,OAAO;;QAE1C,IAAI,YAAY;QAEhB,4CAA4C;QAC5C,IAAI,YAAY,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE;QAClE,IAAI,IAAI,CAAC,GAAG,GAAG,WAAW,IAAI;QAE9B,8CAA8C;QAC9C,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,KAAK,KAAK;QAC3B,IAAI,IAAI,CAAC,mBAAmB,YAAY,GAAG,IAAI;YAAE,OAAO;QAAS;QAEjE,YAAY;QAEZ,QAAQ;QACR,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;QACzD,IAAI,IAAI,CAAC,iCAAiC,YAAY,GAAG,WAAW;YAAE,OAAO;QAAS;QACtF,aAAa;QAEb,qBAAqB;QACrB,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE;QAC5D,IAAI,IAAI,CAAC,CAAC,WAAW,EAAE,IAAI,OAAO,kBAAkB,CAAC,SAAS;YAC1D,MAAM;YACN,OAAO;YACP,KAAK;QACT,IAAI,EAAE,YAAY,GAAG,WAAW;YAAE,OAAO;QAAS;QAClD,aAAa;QAEb,oCAAoC;QACpC,MAAM,gBAAgB,sBAAsB;QAC5C,MAAM,gBAAgB,sBAAsB;QAE5C,IAAI,iBAAiB,eAAe;YAChC,gBAAgB;YAChB,IAAI,WAAW,CAAC;YAChB,IAAI,OAAO,CAAC,aAAa;YACzB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;YACzD,IAAI,IAAI,CAAC,kBAAkB,QAAQ;YACnC,aAAa;YAEb,oBAAoB;YACpB,IAAI,YAAY,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE;YAClE,IAAI,YAAY,CAAC;YACjB,IAAI,IAAI,CAAC,QAAQ,WAAW,YAAY,QAAQ;YAChD,aAAa;YAEb,MAAM,aAAa,iBAAiB,KAAK;YACzC,MAAM,cAAc,iBAAiB,KAAK;YAC1C,MAAM,eAAe;YAErB,0CAA0C;YAC1C,MAAM,mBAAmB,AAAC,iBAAiB,gBAAkB,aAAa,IAAI,eAAgB;YAC9F,MAAM,SAAS,CAAC,YAAY,gBAAgB,IAAI;YAEhD,iBAAiB;YACjB,IAAI,eAAe;gBACf,IAAI;oBACA,MAAM,cAAc,IAAI;oBACxB,YAAY,WAAW,GAAG;oBAC1B,YAAY,GAAG,GAAG;oBAElB,MAAM,IAAI,QAAQ,CAAC,SAAS;wBACxB,YAAY,MAAM,GAAG;wBACrB,YAAY,OAAO,GAAG;wBACtB,WAAW,QAAQ;oBACvB;oBAEA,IAAI,QAAQ,CAAC,aAAa,QAAQ,QAAQ,WAAW,YAAY,aAAa,WAAW;oBAEzF,cAAc;oBACd,IAAI,WAAW,CAAC;oBAChB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;oBACzD,IAAI,IAAI,CAAC,mBAAmB,SAAU,aAAa,GAAI,YAAY,cAAc,GAAG;wBAAE,OAAO;oBAAS;gBAC1G,EAAE,OAAO,OAAO;oBACZ,qBAAqB;oBACrB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;oBACzD,IAAI,IAAI,CAAC,QAAQ,WAAW,YAAY,aAAa;oBACrD,IAAI,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE;oBAC5D,IAAI,WAAW,CAAC;oBAChB,IAAI,IAAI,CAAC,kBAAkB,SAAU,aAAa,GAAI,YAAa,cAAc,GAAI;wBAAE,OAAO;oBAAS;oBACvG,IAAI,IAAI,CAAC,iBAAiB,SAAU,aAAa,GAAI,YAAa,cAAc,IAAK,GAAG;wBAAE,OAAO;oBAAS;gBAC9G;YACJ;YAEA,iBAAiB;YACjB,IAAI,eAAe;gBACf,MAAM,YAAY,gBAAgB,SAAS,aAAa,eAAe;gBAEvE,IAAI;oBACA,MAAM,cAAc,IAAI;oBACxB,YAAY,WAAW,GAAG;oBAC1B,YAAY,GAAG,GAAG;oBAElB,MAAM,IAAI,QAAQ,CAAC,SAAS;wBACxB,YAAY,MAAM,GAAG;wBACrB,YAAY,OAAO,GAAG;wBACtB,WAAW,QAAQ;oBACvB;oBAEA,IAAI,QAAQ,CAAC,aAAa,QAAQ,WAAW,WAAW,YAAY,aAAa,WAAW;oBAE5F,cAAc;oBACd,IAAI,WAAW,CAAC;oBAChB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;oBACzD,IAAI,IAAI,CAAC,mBAAmB,YAAa,aAAa,GAAI,YAAY,cAAc,GAAG;wBAAE,OAAO;oBAAS;gBAC7G,EAAE,OAAO,OAAO;oBACZ,qBAAqB;oBACrB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;oBACzD,IAAI,IAAI,CAAC,WAAW,WAAW,YAAY,aAAa;oBACxD,IAAI,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE;oBAC5D,IAAI,WAAW,CAAC;oBAChB,IAAI,IAAI,CAAC,kBAAkB,YAAa,aAAa,GAAI,YAAa,cAAc,GAAI;wBAAE,OAAO;oBAAS;oBAC1G,IAAI,IAAI,CAAC,iBAAiB,YAAa,aAAa,GAAI,YAAa,cAAc,IAAK,GAAG;wBAAE,OAAO;oBAAS;gBACjH;YACJ;YAEA,aAAa,cAAc;QAC/B;QAEA,wBAAwB;QACxB,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;QACzD,IAAI,IAAI,CAAC,sBAAsB,QAAQ;QACvC,aAAa;QAEb,oBAAoB;QACpB,IAAI,YAAY,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE;QAClE,IAAI,YAAY,CAAC;QACjB,IAAI,IAAI,CAAC,QAAQ,WAAW,YAAY,QAAQ;QAChD,aAAa;QAEb,MAAM,qBAAqB,sBAAsB;QACjD,MAAM,YAAY,aAAa,aAAa;QAE5C,MAAM,gBAAgB;QACtB,MAAM,gBAAgB,KAAM,mBAAmB,MAAM,GAAG,IAAK;QAE7D,qBAAqB;QACrB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;QACzD,IAAI,IAAI,CAAC,QAAQ,eAAe,cAAc,eAAe;QAE7D,aAAa;QACb,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;QACzD,IAAI,IAAI,CAAC,cAAc,SAAS,IAAI,gBAAgB;QACpD,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,UAAU,cAAc,IAAI,EAAE,YAAY,SAAS,IAAI,gBAAgB,IAAI;YAAE,OAAO;QAAQ;QAEzG,+BAA+B;QAC/B,mBAAmB,OAAO,CAAC,CAAC,MAAM;YAC9B,IAAI,WAAW,CAAC;YAChB,IAAI,OAAO,CAAC,aAAa;YACzB,IAAI,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE;YAC5D,IAAI,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,IAAI,gBAAgB,KAAM,QAAQ;YACrE,IAAI,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;YACzD,IAAI,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,KAAK,CAAC,cAAc,IAAI,EAAE,YAAY,SAAS,IAAI,gBAAgB,KAAM,QAAQ,GAAI;gBAAE,OAAO;YAAQ;QAC7H;QAEA,MAAM,SAAS,gBAAgB,gBAAgB;QAE/C,IAAI,YAAY,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE;QAClE,IAAI,IAAI,CAAC,QAAQ,QAAQ,cAAc,IAAI;QAE3C,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,YAAY,CAAC,KAAK,KAAK;QAC3B,IAAI,IAAI,CAAC,mBAAmB,SAAS,IAAI,SAAS;QAClD,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,WAAW,cAAc,IAAI,EAAE,YAAY,SAAS,IAAI,SAAS,GAAG;YAAE,OAAO;QAAQ;QAElG,YAAY,SAAS;QAErB,4CAA4C;QAC5C,MAAM,UAAU,aAAa;QAC7B,IAAI,YAAY,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE;QAClE,IAAI,IAAI,CAAC,GAAG,SAAS,WAAW,IAAI;QAEpC,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,KAAK,KAAK;QAC3B,IAAI,IAAI,CAAC,0CAA0C,YAAY,GAAG,UAAU,GAAG;YAAE,OAAO;QAAS;QACjG,IAAI,IAAI,CAAC,uDAAuD,YAAY,GAAG,UAAU,IAAI;YAAE,OAAO;QAAS;QAE/G,sBAAsB;QACtB,MAAM,UAAU,IAAI,MAAM,CAAC;QAE3B,8EAA8E;QAC9E,IAAI,kBAAkB,QAAQ,IAAI,GAAG,OAAO;YAGxC,wCAAwC;YACxC,MAAM,gBAAgB,IAAI,mJAAA,CAAA,UAAK,CAAC,KAAK,MAAM;YAE3C,iCAAiC;YACjC,cAAc,OAAO,CAAC,aAAa;YACnC,cAAc,WAAW,CAAC;YAC1B,cAAc,IAAI,CAAC,iCAAiC,IAAI;YAExD,cAAc,WAAW,CAAC;YAC1B,cAAc,IAAI,CAAC,CAAC,cAAc,EAAE,WAAW,cAAc,IAAI,EAAE,IAAI;YAEvE,qCAAqC;YACrC,IAAI,OAAO;YACX,mBAAmB,OAAO,CAAC,CAAC,MAAM;gBAC9B,IAAI,OAAO,KAAK;oBACZ,cAAc,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,IAAI,EAAE,KAAK,KAAK,CAAC,cAAc,IAAI,EAAE,IAAI;oBACzE,QAAQ;gBACZ;YACJ;YAEA,MAAM,iBAAiB,cAAc,MAAM,CAAC;YAG5C,IAAI,gBAAgB;gBAChB,cAAc,IAAI,CAAC;YACvB;YAEA,OAAO;QACX;QAEA,IAAI,gBAAgB;YAChB,IAAI,IAAI,CAAC;QACb;QAEA,OAAO;IAEX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM;IACV;AACJ","debugId":null}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Documents/GitHub/home_customization/app/%28client%29/send-email-success/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useEffect } from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport { CheckCircle, Home, Download } from 'lucide-react'\nimport { useProductContext } from '@/contexts/ProductContext'\nimport { generateCustomizedHomePDF } from '@/lib/pdf-generator'\nimport toast from 'react-hot-toast'\nimport Image from 'next/image'\n\nexport default function SendEmailSuccess() {\n    const router = useRouter()\n    const [isDownloading, setIsDownloading] = React.useState(false)\n    const {\n        productData,\n        selectedFeatures,\n        filteredInteriorData,\n        filteredExteriorEnergyData,\n        totalPrice\n    } = useProductContext()\n\n    // Check if any customizations were actually selected\n    const hasAnyCustomizations = () => {\n        return (\n            selectedFeatures.kitchen === 'yes' ||\n            selectedFeatures.bathroom === 'yes' ||\n            selectedFeatures.shower === 'yes' ||\n            selectedFeatures.sink === 'yes' ||\n            selectedFeatures.toilet === 'yes' ||\n            selectedFeatures.kitchen_wall === 'yes' ||\n            selectedFeatures.slider_door === 'yes' ||\n            selectedFeatures.french_door === 'yes' ||\n            selectedFeatures.stairs === 'yes' ||\n            selectedFeatures.roofTop === 'yes' ||\n            selectedFeatures.airConditioner === 'yes' ||\n            selectedFeatures.naturalGas === 'yes' ||\n            selectedFeatures.solarPanel === 'yes' ||\n            (selectedFeatures.kitchen_position && selectedFeatures.kitchen_position !== '')\n        )\n    }\n\n    // Redirect if no customizations and no product data (someone accessed this page directly)\n    useEffect(() => {\n        if (!productData) {\n            router.push('/customizations')\n            return\n        }\n\n        if (!hasAnyCustomizations()) {\n            // If no customizations, redirect to customizations page after a short delay\n            const timer = setTimeout(() => {\n                router.push('/customizations')\n            }, 3000)\n\n            return () => clearTimeout(timer)\n        }\n    }, [productData, router])\n\n    const getFirstExteriorImage = () => {\n        // Mirror MiddleSection selection (no product defaults)\n        if (\n            filteredExteriorEnergyData && (\n                selectedFeatures.stairs !== undefined ||\n                selectedFeatures.railing !== undefined ||\n                selectedFeatures.airConditioner !== undefined ||\n                selectedFeatures.solarPanel !== undefined\n            )\n        ) {\n            if (selectedFeatures.kitchen === 'no') {\n                if ((filteredExteriorEnergyData.sections?.exterior_NoKitchen?.gallery?.length ?? 0) > 0) {\n                    return filteredExteriorEnergyData.sections?.exterior_NoKitchen?.gallery?.[0] || null;\n                }\n            } else {\n                if ((filteredExteriorEnergyData.sections?.exterior?.gallery?.length ?? 0) > 0) {\n                    return filteredExteriorEnergyData.sections?.exterior?.gallery?.[0] || null;\n                }\n            }\n\n            if ((filteredExteriorEnergyData.sections?.exteriorGallery?.images?.length ?? 0) > 0) {\n                return filteredExteriorEnergyData.sections?.exteriorGallery?.images?.[0] || null;\n            }\n        }\n\n        const hasInteriorFeatures = selectedFeatures.kitchen === 'yes' ||\n            selectedFeatures.bathroom === 'yes' ||\n            selectedFeatures.shower === 'yes' ||\n            selectedFeatures.sink === 'yes' ||\n            selectedFeatures.toilet === 'yes' ||\n            selectedFeatures.kitchen_wall === 'yes' ||\n            (selectedFeatures.kitchen_position && selectedFeatures.kitchen_position !== '');\n\n        if (hasInteriorFeatures && filteredInteriorData && (filteredInteriorData.sections.exterior.gallery?.length ?? 0) > 0) {\n            return filteredInteriorData.sections.exterior.gallery?.[0] || null;\n        }\n\n        return null;\n    }\n\n    const getFirstInteriorImage = () => {\n        // Mirror MiddleSection: only when interior features are selected; no defaults\n        const hasInteriorFeatures = selectedFeatures.kitchen === 'yes' ||\n            selectedFeatures.bathroom === 'yes' ||\n            selectedFeatures.shower === 'yes' ||\n            selectedFeatures.sink === 'yes' ||\n            selectedFeatures.toilet === 'yes' ||\n            selectedFeatures.kitchen_wall === 'yes' ||\n            (selectedFeatures.kitchen_position && selectedFeatures.kitchen_position !== '');\n\n        if (hasInteriorFeatures && filteredInteriorData && (filteredInteriorData.sections.interior.gallery?.length ?? 0) > 0) {\n            return filteredInteriorData.sections.interior.gallery?.[0] || null;\n        }\n\n        return null;\n    }\n\n    // Generate configuration items\n    const getConfigurationItems = () => {\n        if (!productData) return []\n\n        const items: Array<{ name: string; price: number }> = []\n\n        if (selectedFeatures.kitchen === 'yes') {\n            const kitchenOption = productData.features.kitchen?.options.find(opt => opt.value === 'yes')\n            if (kitchenOption) {\n                items.push({ name: 'Kitchen', price: kitchenOption.price })\n            }\n        }\n\n        if (selectedFeatures.kitchen_position) {\n            const positionOption = productData.features.kitchen_position?.options.find(opt => opt.value === selectedFeatures.kitchen_position)\n            if (positionOption) {\n                let positionName = ''\n                if (selectedFeatures.kitchen_position === 'wall3') {\n                    positionName = 'Kitchen Position 1 (Wall 3)'\n                } else if (selectedFeatures.kitchen_position === 'wall4') {\n                    positionName = 'Kitchen Position 2 (Wall 4)'\n                }\n                items.push({ name: positionName, price: positionOption.price })\n            }\n        }\n\n        if (selectedFeatures.bathroom === 'yes') {\n            const bathroomOption = productData.features.bathroom?.options.find(opt => opt.value === 'yes')\n            if (bathroomOption) {\n                items.push({ name: 'Full Bathroom', price: bathroomOption.price })\n            }\n        }\n\n        if (selectedFeatures.shower === 'yes') {\n            const showerOption = productData.features.shower?.options.find(opt => opt.value === 'yes')\n            if (showerOption) {\n                items.push({ name: 'Shower', price: showerOption.price })\n            }\n        }\n\n        if (selectedFeatures.sink === 'yes') {\n            const sinkOption = productData.features.sink?.options.find(opt => opt.value === 'yes')\n            if (sinkOption) {\n                items.push({ name: 'Sink', price: sinkOption.price })\n            }\n        }\n\n        if (selectedFeatures.toilet === 'yes') {\n            const toiletOption = productData.features.toilet?.options.find(opt => opt.value === 'yes')\n            if (toiletOption) {\n                items.push({ name: 'Toilet', price: toiletOption.price })\n            }\n        }\n\n        if (selectedFeatures.kitchen_wall === 'yes') {\n            const wallOption = productData.features.kitchen_wall?.options.find(opt => opt.value === 'yes')\n            if (wallOption) {\n                items.push({ name: 'Kitchen Wall', price: wallOption.price })\n            }\n        }\n\n        if (selectedFeatures.slider_door === 'yes') {\n            const sliderOption = productData.features.slider_door?.options.find(opt => opt.value === 'yes')\n            if (sliderOption) {\n                items.push({ name: 'Slider Door', price: sliderOption.price })\n            }\n        }\n\n        if (selectedFeatures.french_door === 'yes') {\n            const frenchOption = productData.features.french_door?.options.find(opt => opt.value === 'yes')\n            if (frenchOption) {\n                items.push({ name: 'French Door', price: frenchOption.price })\n            }\n        }\n\n        if (selectedFeatures.stairs === 'yes') {\n            const stairsOption = productData.features.stairs?.options.find(opt => opt.value === 'yes')\n            if (stairsOption) {\n                items.push({ name: 'Stairs', price: stairsOption.price })\n            }\n        }\n\n        if (selectedFeatures.roofTop === 'yes') {\n            const roofOption = productData.features.roofTop?.options.find(opt => opt.value === 'yes')\n            if (roofOption) {\n                items.push({ name: 'Roof Top', price: roofOption.price })\n            }\n        }\n\n        if (selectedFeatures.airConditioner === 'yes') {\n            const acOption = productData.features.airConditioner?.options.find(opt => opt.value === 'yes')\n            if (acOption) {\n                items.push({ name: 'Air Conditioner', price: acOption.price })\n            }\n        }\n\n        if (selectedFeatures.naturalGas === 'yes') {\n            const gasOption = productData.features.naturalGas?.options.find(opt => opt.value === 'yes')\n            if (gasOption) {\n                items.push({ name: 'Natural Gas', price: gasOption.price })\n            }\n        }\n\n        if (selectedFeatures.solarPanel === 'yes') {\n            const solarOption = productData.features.solarPanel?.options.find(opt => opt.value === 'yes')\n            if (solarOption) {\n                items.push({ name: 'Solar Panel', price: solarOption.price })\n            }\n        }\n\n        return items\n    }\n\n    const handlePDFDownload = async () => {\n        try {\n            setIsDownloading(true)\n            // brief delay to show spinner before triggering download\n            await new Promise(resolve => setTimeout(resolve, 1500))\n            setIsDownloading(false)\n            const config = {\n                productData,\n                selectedFeatures,\n                filteredInteriorData,\n                filteredExteriorEnergyData,\n                totalPrice\n            }\n\n            await generateCustomizedHomePDF(config, {\n                shouldDownload: true,\n                fileName: 'customized-home-configuration.pdf'\n            })\n\n            toast.success('PDF downloaded successfully!')\n        } catch (error) {\n            console.error('Error downloading PDF:', error)\n            toast.error('Failed to download PDF. Please try again.')\n        } finally {\n            setIsDownloading(false)\n        }\n    }\n\n    const exteriorImage = getFirstExteriorImage()\n    const interiorImage = getFirstInteriorImage()\n    const configurationItems = getConfigurationItems()\n    const basePrice = productData?.basePrice || 120000\n    const hasCustomizations = hasAnyCustomizations()\n\n    // Show loading/redirect message if no customizations\n    if (!hasCustomizations) {\n        return (\n            <div className=\"max-w-7xl w-full mx-auto px-4 h-screen flex items-center justify-center\">\n                <div className=\"text-center\">\n                    <div className=\"mx-auto w-36 h-36 bg-yellow-100 rounded-full flex items-center justify-center mb-4\">\n                        <svg className=\"w-20 h-20 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n                        </svg>\n                    </div>\n                    <h2 className=\"text-2xl sm:text-3xl lg:text-4xl font-semibold text-gray-700 mb-2\">\n                        No Customizations Selected\n                    </h2>\n                    <p className=\"text-gray-600 mb-6\">\n                        Redirecting you to the customizations page...\n                    </p>\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-[#C2A45C] mx-auto\"></div>\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <>\n            <div className=\"max-w-7xl w-full mx-auto px-4 py-8\">\n                {/* Success Header */}\n                <div className=\"mb-8\">\n                    <div className=\"text-center max-w-md mx-auto\">\n                        <div className=\"mx-auto w-36 h-36 bg-[#C2A45C]/20 rounded-full flex items-center justify-center mb-4\">\n                            <CheckCircle className=\"w-20 h-20 text-[#C2A45C]\" />\n                        </div>\n                        <h2 className=\"text-2xl sm:text-3xl lg:text-4xl font-semibold text-gray-700 mb-2 leading-9 sm:leading-10 md:leading-11\">\n                            Your Custom Home Has Been Submitted\n                        </h2>\n                        <div className='flex flex-col gap-1'>\n                            <p className=\"text-gray-600\">\n                                Thank you! We will be in touch with you as soon as possible.\n                            </p>\n                            <p className='text-gray-600'> Please email us at anytime <a className='text-[#C2A45C]'>contact@freepointhomes.com</a></p>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Your Customization Preview */}\n                <div className=\"bg-white border border-gray-200 rounded-lg p-6 mb-8\">\n                    <h3 className=\"text-xl font-bold text-gray-800 mb-6 text-center\">\n                        Your Customization Preview\n                    </h3>\n\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                        {/* Images Section */}\n                        <div className=\"space-y-6\">\n                            {/* Exterior Image */}\n                            <div className=\"\">\n                                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Exterior Design:</h4>\n                                {exteriorImage ? (\n                                    <Image\n                                        width={1000}\n                                        height={1000}\n                                        src={exteriorImage}\n                                        alt=\"Exterior Design\"\n                                        className=\"w-full rounded-lg shadow-md\"\n                                    />\n                                ) : (\n                                    <div className=\"w-full max-w-sm mx-auto h-48 bg-gray-200 rounded-lg flex items-center justify-center\">\n                                        <span className=\"text-gray-500\">No exterior image available</span>\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* Interior Image */}\n                            <div className=\"\">\n                                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Interior Design:</h4>\n                                {interiorImage ? (\n                                    <Image\n                                        width={1000}\n                                        height={1000}\n                                        src={interiorImage}\n                                        alt=\"Interior Design\"\n                                        className=\"w-full rounded-lg shadow-md\"\n                                    />\n                                ) : (\n                                    <div className=\"w-full max-w-sm mx-auto h-48 bg-gray-200 rounded-lg flex items-center justify-center\">\n                                        <span className=\"text-gray-500\">No interior image available</span>\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* Only show PDF download button if there are customizations */}\n                            {hasCustomizations && (\n                                <div className=''>\n                                    <button\n                                        onClick={handlePDFDownload}\n                                        disabled={isDownloading}\n                                        className={`bg-[#C2A45C] text-white px-6 py-3 rounded-md transition-colors font-medium flex items-center justify-center gap-2 min-w-[160px] ${isDownloading ? 'opacity-70 cursor-not-allowed' : 'cursor-pointer hover:bg-[#C2A45C]/80'}`}\n                                    >\n                                        {isDownloading ? (\n                                            <>\n                                                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                                                <span>Preparing...</span>\n                                            </>\n                                        ) : (\n                                            <>\n                                                <Download className=\"w-4 h-4\" />\n                                                <span>Download PDF</span>\n                                            </>\n                                        )}\n                                    </button>\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Configuration Section */}\n                        <div className=\"space-y-4\">\n                            <h4 className=\"text-lg font-semibold text-gray-800 mb-4\">Your Configuration</h4>\n\n                            {/* Cost Summary */}\n                            <div className=\"bg-gray-50 p-4 rounded-lg\">\n                                <div className=\"space-y-2\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-600\">Base Home:</span>\n                                        <span className=\"text-gray-800\">${basePrice.toLocaleString()}</span>\n                                    </div>\n\n                                    {configurationItems.map((item, index) => (\n                                        <div key={index} className=\"flex justify-between\">\n                                            <span className=\"text-gray-600\">{item.name}:</span>\n                                            <span className=\"text-gray-800\">+${item.price.toLocaleString()}</span>\n                                        </div>\n                                    ))}\n\n                                    <div className=\"border-t pt-2 mt-3\">\n                                        <div className=\"flex justify-between items-center\">\n                                            <span className=\"font-bold text-gray-800\">Total Estimate:</span>\n                                            <span className=\"text-xl font-bold text-[#C2A45C]\">\n                                                ${totalPrice.toLocaleString()}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Navigation Buttons */}\n                <div className=\"flex flex-col sm:flex-row gap-4 justify-center mt-8\">\n                    <Link href=\"/\" className=\"block\">\n                        <button className=\"w-full cursor-pointer sm:w-auto bg-[#C2A45C] hover:bg-[#C2A45C]/80 text-white px-6 py-3 rounded-md transition-colors font-medium flex items-center justify-center\">\n                            <Home className=\"w-4 h-4 mr-2\" />\n                            Back to Home\n                        </button>\n                    </Link>\n\n                    <Link href=\"/customizations\" className=\"block\">\n                        <button className=\"w-full cursor-pointer sm:w-auto border border-[#C2A45C] text-[#C2A45C] hover:bg-[#C2A45C] hover:text-white px-6 py-3 rounded-md transition-colors font-medium\">\n                            Continue Customizing\n                        </button>\n                    </Link>\n                </div>\n            </div>\n        </>\n    )\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}